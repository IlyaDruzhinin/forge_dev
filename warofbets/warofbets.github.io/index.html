<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>War of Bets</title>

  <!-- css -->
  <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <!-- <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" /> -->
  <link href="css/nivo-lightbox.css" rel="stylesheet" />
  <link href="css/nivo-lightbox-theme/default/default.css" rel="stylesheet" type="text/css" />
  <link href="css/animate.css" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">

  <script src="js/web3.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/v4-shims.js"></script>

  <!-- template skin -->
  <link id="t-colors" href="color/default.css" rel="stylesheet">

  <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter48559190 = new Ya.Metrika({
                    id:48559190,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    webvisor:true,
                    trackHash:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/48559190" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-custom">


  <div id="wrapper">

    <nav class="navbar navbar-custom" role="navigation">
      <div class="container navigation">

        <div class="navbar-header page-scroll">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
          <!-- <a class="navbar-brand" href="index.html"> Bets War / Война Ставок
                    <img src="img/logo.png" alt="" width="150" height="40" />
                </a> -->
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
          <ul class="nav navbar-nav">
            <li>
              <div id="cart"></div>
            </li>
            <li class="active"><a href="#intro">Дом</a></li>
            <li><a href="#" onclick="alert('Спасибо. Все ваши данные переданы в ФСБ.\nСейчас за вами уже выехали, оставайтесь на своём месте и больше ни о чём в жизни можете не волноваться.')">Не нажимать!</a> </li>
            <!-- <span class="label label-danger">65</span> -->

          </ul>
        </div>
        <!-- /.navbar-collapse -->

      </div>
      <!-- /.container -->
    </nav>

    <!-- Section: intro -->
    <section id="intro" class="intro">
      <div class="intro-content">
        <div class="container">

          <div class="row">
            <div class="col-sm-6 col-md-6 col-lg-6">
              <div class="wow fadeInDown" data-wow-offset="0" data-wow-delay="0.1s">
                <img src="img/rkn-telegram.jpg" class="img-responsive" alt="" />

              </div>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6 slogan">
              <div class="wow fadeInUp" data-wow-duration="2s" data-wow-delay="0.2s">
                <h2>RKN vs Telegram</h2>
                <p>
                  Делаем ставки кто кого. Или РосКомНадзор заблокирует Telegram или Telegram будет нормально работать без VPN.<br>
                  <strong>ВНИМАНИЕ! Игра ещё не началась!</strong>
                </p>
                <p>
                  <ul>
                    <li>Нажимайте кнопку "вашей" стороны</li>
                    <li>Делайте свою ставку в ETH</li>
                    <li>Как только условие будет исполнено, то получите все ETH из банка ваших оппонентов</li>
                    <li><strong>Условие: </strong>Через 1 месяц либо Telegram продолжает блокироваться или нормально работает без VPN</li>
                    <li>Делайте свою ставку в ETH</li>
                  </ul>
                </p>
              </div>
              <div class="buttons">
                <a href="#" class="btn btn-success btn-lg wow fadeInLeft transferFundsToTelegram" data-wow-duration="2s" data-wow-delay="0.2s"><i class="fas fa-heart"></i> Ставлю на Telegram <br><small>Profit: 0 </small></a>
                <a href="#" class="btn btn-info btn-lg wow fadeInRight transferFundsToRKN" data-wow-duration="3s" data-wow-delay="0.3s"><i class="fas fa-heart"></i> Ставлю на РКН <br><small>Profit: 0 </small></a>
              </div>

              <!-- Ссылки с картинками на гитхаб, etherscan и телеграм -->
              <div class="buttons" style="margin-left: 10px;">
                <ul class="social">                  
                  <li><a href="https://github.com/warofbets"><i class="fab fa-github" style="font-size: 70px;"></i></a></li>
                  <li><a href="https://t.me/BetTalks"><i class="fab fa-telegram" style="font-size: 70px;"></i></a></li>
                  <li><a href="https://etherscan.io/address/"><i class="fab fa-ethereum" style="font-size: 70px;"></i></a></li>
                </ul>
              </div>

              <div class="wow fadeInUp" data-wow-duration="2s" data-wow-delay="0.2s"  style="margin-left: 10px;">
                  <!-- <p>Исходный код смарт-контрактов см. на <u><a href="https://github.com/betswar/rkn-telegram">GitHub</a></u></p> -->
                  <!-- <p>Смарт-контракты верифицированы (пока нет) см. на <u><a href="">Etherscan</a></u></p> -->
                  <p>
                    <strong>#лайк #шер #репост</strong> - расскажите своим друзьям                  </p>
              </div>

            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- /Section: intro -->
    <!-- <div class="divider-short"></div> -->

    <section id="content1" class="home-section">

      <div class="container">
        <div class="row text-center heading">
          <!-- <h3>Awesome features</h3> -->
        </div>


        <div class="row">
          <div class="col-md-6">
            <div class="wow fadeInLeft" data-wow-delay="0.2s">
              <img src="img/angel.png" alt="" class="img-responsive" />
            </div>
          </div>
          <div class="col-md-6">
            <div class="wow fadeInRight" data-wow-delay="0.3s">
              <div class="features">
                <!-- <i class="fa fa-check fa-2x circled bg-skin float-left" style="width: 1.6em;padding: 10px;"></i> -->
                <h5>Условия игры</h5>
                <p>  1. Через месяц (июнь) мы подведем итоги и определим победителей. Если ситуация будет сложной, то коллегиально придём к консенсусу в <u><a href="https://t.me/bettalks">нашем чате</a></u> Telegram</p>
                  <p> 2. Это лишь игра. Все ставки вы делаете на свой страх и риск.</p>
                  <p> 3. Мы, как сервис, не предусмотрели функции вывода всех средств к нам на счета, только на счета участников. Если смарт-контракт даст сбой, то ваши сресдтва будут памятником на войне РКН vs Telegram. И это тоже хорошо.</p>
              </div>
              <div class="features">
                <!-- <i class="fa fa-check fa-2x circled bg-skin float-left" style="width: 1.6em;padding: 10px;"></i> -->
                <h5>Прозрачность системы</h5>
                <p>
                  Мы используем блокчейн Ethereum. Вся информация в нём открыта. Что насчёт исходного кода? Вот <u><a href="https://github.com/warofbets/rkn-telegram/blob/master/contracts/TelegramContract.sol">тут</a></u> адрес смарт-контракта одной стороны, а <u><a href="https://github.com/warofbets/rkn-telegram/blob/master/contracts/RKNContract.sol">тут</a></u> другой. А это <u><a href="https://github.com/warofbets/rkn-telegram/blob/master/contracts/BetServiceContract.sol">адрес контракта</a></u>, который управляет всем.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

    </section>
    <!-- /Section: content -->

    <!-- <div class="divider-short"></div>

    <section id="content2" class="home-section">

      <div class="container">
        <div class="row text-center heading">
          <h3>More features</h3>
        </div>


        <div class="row">
          <div class="col-md-6">
            <div class="wow fadeInLeft" data-wow-delay="0.2s">
              <p>
                Lorem ipsum dolor sit amet, ipsum vocent reprimique ad eos, ludus option signiferumque an pro. Id case quaestio mei, an ipsum offendit vel, ex ius quis comprehensam. Eu per illud modus fabellas, eam an brute gubergren repudiandae.
              </p>
              <p>
                Eam voluptua assentior ea, an eirmod sensibus scribentur vel. Elit nonumy indoctum per eu. Feugait omittantur ne qui, commodo invidunt ea nam
              </p>
              <div class="divider-short marginbot-30 margintop-30"></div>
              <div class="features">
                <i class="fa fa-android fa-2x circled bg-skin float-left"></i>
                <h5>Android application</h5>
              </div>
              <div class="features">
                <i class="fa fa-apple fa-2x circled bg-skin float-left"></i>
                <h5>For Apple iOs</h5>
              </div>
              <div class="features">
                <i class="fa fa-windows fa-2x circled bg-skin float-left"></i>
                <h5>Windows version</h5>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="wow fadeInRight" data-wow-delay="0.3s">
              <img src="img/img-2.png" alt="" class="img-responsive" />
            </div>
          </div>

        </div>
      </div>

    </section> -->
    <!-- /Section: content -->

    <!-- <div class="divider-short"></div>
    <section id="works" class="home-section text-center">
      <div class="container">
        <div class="row text-center heading">
          <h3>Screenshots</h3>
        </div>
        <div class="row">
          <div class="col-sm-12 col-md-12 col-lg-12">

            <div class="row gallery-item">
              <div class="col-md-3">
                <a href="img/works/1.jpg" title="This is an image title" data-lightbox-gallery="gallery1" data-lightbox-hidpi="img/works/1@2x.jpg">
								<img src="img/works/1.jpg" class="img-responsive" alt="img">
							</a>
              </div>
              <div class="col-md-3">
                <a href="img/works/2.jpg" title="This is an image title" data-lightbox-gallery="gallery1" data-lightbox-hidpi="img/works/1@2x.jpg">
								<img src="img/works/2.jpg" class="img-responsive" alt="img">
							</a>
              </div>
              <div class="col-md-3">
                <a href="img/works/3.jpg" title="This is an image title" data-lightbox-gallery="gallery1" data-lightbox-hidpi="img/works/1@2x.jpg">
								<img src="img/works/3.jpg" class="img-responsive" alt="img">
							</a>
              </div>
              <div class="col-md-3">
                <a href="img/works/4.jpg" title="This is an image title" data-lightbox-gallery="gallery1" data-lightbox-hidpi="img/works/1@2x.jpg">
								<img src="img/works/4.jpg" class="img-responsive" alt="img">
							</a>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section> -->

    <section id="callaction" class="home-section paddingtop-40">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="callaction">
              <div class="row">
                <div class="col-md-8">
                  <div class="wow fadeInUp" data-wow-delay="0.1s">
                    <div class="cta-text">
                      <h3>Поддержите проект</h3>
                      <p>Чтобы мы могли создавать новые классные игры, приложения и развивать War of Bets.</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="wow lightSpeedIn" data-wow-delay="0.1s">
                    <div class="cta-btn transferFundsToProtocolX">
                      <p href="" class="btn btn-skin btn-lg transferFundsToProtocolX">Послать ETH</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="sub-footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-6 col-md-6 col-lg-6">
              <ul class="social">
                <li><a href="https://www.facebook.com/War-of-Bets-366245940539120"><i class="fa fa-facebook"></i></a></li>
                <!-- <li><a href="https://twitter.com/warofbets"><i class="fa fa-twitter"></i></a></li> -->
                <li><a href="#"><i class="fa fa-medium"></i></a></li>
                <li><a href="https://t.me/BetTalks"><i class="fa fa-telegram"></i></a></li>
              </ul>

              <div class="wow fadeInLeft" data-wow-delay="0.1s">
                <div class="text-left">
                  <p>&copy;Создано в <a href="https://protocolx.github.io/">ProtocolX</a>. All rights reserved.</p>
                </div>
              </div>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6">
              <div class="wow fadeInRight" data-wow-delay="0.1s">
                <div class="text-right margintop-30">
                  <div class="credits">
                    <!--
                      All the links in the footer should remain intact.
                      You can delete the links only if you purchased the pro version.
                      Licensing information: https://bootstrapmade.com/license/
                      Purchase the pro version form: https://bootstrapmade.com/buy/?theme=Appland
                    -->
                    <a href="https://bootstrapmade.com/bootstrap-one-page-templates/">Bootstrap One Page Templates</a> by <a href="https://bootstrapmade.com/">BootstrapMade</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

  </div>
  <a href="#" class="scrollup"><i class="fa fa-angle-up active"></i></a>

  <!-- Core JavaScript Files -->
  <script src="js/jquery.min.js"></script>
  <script src="js/ethjs-query.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.min.js"></script>
  <script src="js/wow.min.js"></script>
  <script src="js/jquery.scrollTo.js"></script>
  <script src="js/nivo-lightbox.min.js"></script>
  <script src="js/custom.js"></script>
  <script src="js/ethjs-contract.min.js"></script>
  <script src="js/engine.js"></script>

  <script>



    window.addEventListener('load', function() {

      const defaultAccount = web3.eth.defaultAccount; // сохраняем привязанный аккаунт
      window.web3 = new Web3(web3.currentProvider); // инициализируем свою библиотеку
      window.web3.eth.defaultAccount = defaultAccount; // возвращаем привязанный аккаунт

      // Check if Web3 has been injected by the browser:
      if (typeof web3 !== 'undefined') {
        console.log("YES :)");
        // You have a web3 browser! Continue below!
        startApp(web3);
      } else {
        console.log('No web3? You should consider trying MetaMask!')
        // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
        web3 = new Web3(window.web3.currentProvider);
      }

    })

    const addressTelegram = '0x2bb2F5a10285ed1E33F41817fB1ffB21c0314a97';
    const addressRKN = '0x0071a7250ba11e086b0de4afc6e0264061d8c941';
    const addressProtocolX = '0x0071a7250ba11e086b0de4afc6e0264061d8c941';
    
    var buttonTelegram = document.querySelector('.transferFundsToTelegram')
    buttonTelegram.addEventListener('click', function() {
      console.log("step1");

      const abitelegram = [{
		"constant": true,
		"inputs": [],
		"name": "getUsers",
		"outputs": [
			{
				"name": "",
				"type": "address[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "user",
				"type": "address"
			}
		],
		"name": "bet",
		"outputs": [],
		"payable": true,
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getBalance",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "refund",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getPiece",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "service",
				"type": "address"
			}
		],
		"name": "transferToBetService",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"payable": true,
		"stateMutability": "payable",
		"type": "fallback"
	}];

      console.log("const TelegramSupporters = contract(abitelegram) #3")
      const TelegramSupporters = contract(abitelegram)

      console.log("const telegramSupport = TelegramSupporters.at(addressTelegram)")
      const telegramSupport = TelegramSupporters.at(addressTelegram)

      telegramSupport.transfer(toAddress, value, { from: addr }).then(function (txHash) {
        console.log('Transaction sent')
        console.dir(txHash)
        waitForTxToBeMined(txHash)
      }).catch(console.error)

    });

    var buttonRKN = document.querySelector('.transferFundsToRKN')
    buttonRKN.addEventListener('click', function() {
      console.log("step1");

      const abiRKN = [{
        "constant": false,
        "inputs": [
                    {
                    "name": "_to",
                "type": "address"
            },
            {
                "name": "_value",
                                "type": "uint256"
            }
        ],
        "name": "transfer",
        "outputs": [
            {
                "name": "success",
                "type": "bool"
            }
        ],
        "payable": false,
        "type": "function"
      }];

      const RKNSupporters = contract(abiRKN)

      const RKNSupport = RKNSupporters.at(addressRKN)

       RKNSupport.transfer(toAddress, value, { from: addr }).then(function (txHash) {
        console.log('Transaction sent')
        console.dir(txHash)
        waitForTxToBeMined(txHash)
      }).catch(console.error)
    });


    
    var tipButton = document.querySelector('.transferFundsToProtocolX')
    tipButton.addEventListener('click', function() {
      if (typeof web3 === 'undefined') {
        return renderMessage('You need to install MetaMask to use this feature.  https://metamask.io')
      }
      
      var user_address = web3.eth.accounts[0]
      web3.eth.sendTransaction({
        to: 0x0071a7250ba11e086b0de4afc6e0264061d8c941,
        from: user_address,
        value: web3.toWei('0.1', 'ether'),
        }, function (err, transactionHash) {
          if (err) return renderMessage('Oh no!: ' + err.message)
          
          // If you get a transactionHash, you can assume it was sent,
          // or if you want to guarantee it was received, you can poll
          // for that transaction to be mined first.
          renderMessage('Thanks!')
      })
    })
  
  async function waitForTxToBeMined (txHash) {
    
    let txReceipt 
    while (!txReceipt) {
      try {
        txReceipt = await eth.getTransactionReceipt(txHash)
        } catch (err) {
          return indicateFailure(err)
          }
    }
    indicateSuccess()
  }

  </script>

</body>

</html>
